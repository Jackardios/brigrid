// generate media queries for column
@mixin _col-media($size: none, $grid: none) {
    @if $size == none {
        @error "No $size argument passed";
    }

    @if $grid == none {
        @error "No $grid argument passed";
    }

    $grid-driver: map-get($grid, driver);
    $size-type: type-of($size);
    @if ($size-type == "number") {
        $col-width: col-width($size, $grid);
        width: $col-width;
        @if ($grid-driver == flex) {
            max-width: $col-width;
        }
    } @else {
        @if ($size-type == "list") {
            $size: list-to-media-map($size);
        }

        $max-size: max-size($size);
        @each $name, $value in $size {
            @if (($value != none) and ($value != null)) {
                @if ($name == $max-size) {
                    $col-width: col-width($value, $grid);
                    width: $col-width;
                    @if ($grid-driver == flex) {
                        max-width: $col-width;
                    }
                } @else {
                    @include for-size-smaller-than($name) {
                        @include col-change($size: $value, $grid: $grid);
                    }
                }
            }
        }
    }
}

// common styles of grid-column
%_grid-column-base {
    box-sizing: border-box;
    min-height: 1px;
}

// flex based grid-column
@mixin grid-column--flex($columns, $grid: $default-grid) {
    @extend %_grid-column-base;

    $grid-half-gutter: get-grid-value(gutter, $grid) / 2;
    margin-left: $grid-half-gutter;
    margin-right: $grid-half-gutter;

    $align-y: get-grid-value(align-y, $grid);
    @if $align-y != none {
        @if $align-y == top {
            align-self: flex-start;
        } @else if $align-y == bottom {
            align-self: flex-end;
        } @else if $align-y == middle {
            align-self: center;
        } @else {
            align-self: $align-y;
        }
    }
}

// float based grid-column
@mixin grid-column--float($columns, $grid: $default-grid) {
    @extend %_grid-column-base;
    // TODO: complete grid-column--float
}

@mixin grid-column($columns, $grid: $default-grid) {
    $driver: map-get($grid, driver);
    @if ($driver == flex) {
        @include grid-column--flex($columns, $grid);
    } @else if ($driver == float) {
        @include grid-column--float($columns, $grid);
    } @else {
        @error "Incorrect driver value: '" + $driver + "'";
    }
}
